<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Visualizing Summary Data • ggquickeda</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Visualizing Summary Data">
<meta property="og:description" content="ggquickeda">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggquickeda</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction_to_ggquickeda.html">Introduction to ggquickeda</a>
    </li>
    <li>
      <a href="../articles/Visualizing_Summary_Data.html">Visualizing Summary Data</a>
    </li>
    <li>
      <a href="../articles/AdditionalPlotsStats.html">Additional Plot Statisitics</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/app.html">Shiny App</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/smouksassi/ggquickeda/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Visualizing_Summary_Data_files/header-attrs-2.13/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Visualizing Summary Data</h1>
                        <h4 class="author">Samer Mouksassi</h4>
            
            <h4 class="date">2022-06-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/smouksassi/ggquickeda/blob/master/vignettes/Visualizing_Summary_Data.Rmd"><code>vignettes/Visualizing_Summary_Data.Rmd</code></a></small>
      <div class="hidden name"><code>Visualizing_Summary_Data.Rmd</code></div>

    </div>

    
    
<p>In this vignette we will demo how to visualize data which is only available in summary format as it is coming from a published paper table or figure for example Figure 3 from this paper:</p>
<p>“Remdesivir for the Treatment of Covid-19 — Final Report”</p>
<div class="figure">
<img src="nejmfigure.png" style="width:100.0%" alt=""><p class="caption">JH Beigel et al. N Engl J Med 2020. DOI: 10.1056/NEJMoa2007764</p>
</div>
<div id="published-data" class="section level3">
<h3 class="hasAnchor">
<a href="#published-data" class="anchor"></a>Published Data</h3>
<p>The data has been made available in a csv data file named <code>remdesivirfig3.csv</code></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/smouksassi/ggquickeda">ggquickeda</a></span><span class="op">)</span> <span class="co">#load ggquickeda</span>
<span class="va">remdesivirdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"./remdesivirfig3.csv"</span><span class="op">)</span> <span class="co"># in vignette folder</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">remdesivirdata</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="19%">
<col width="26%">
<col width="15%">
<col width="11%">
<col width="16%">
<col width="5%">
<col width="5%">
</colgroup>
<thead><tr class="header">
<th align="left">Subgroup</th>
<th align="left">Subgroupvalue</th>
<th align="right">Subgroupvalueorder</th>
<th align="right">N.of.patients</th>
<th align="right">Recovery.Rate.Ratio</th>
<th align="right">RRLCI</th>
<th align="right">RRUCI</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">All Patients</td>
<td align="left"></td>
<td align="right">1</td>
<td align="right">1062</td>
<td align="right">1.29</td>
<td align="right">1.12</td>
<td align="right">1.49</td>
</tr>
<tr class="even">
<td align="left">Geographic Region</td>
<td align="left">North America</td>
<td align="right">2</td>
<td align="right">847</td>
<td align="right">1.30</td>
<td align="right">1.10</td>
<td align="right">1.53</td>
</tr>
<tr class="odd">
<td align="left">Geographic Region</td>
<td align="left">Europe</td>
<td align="right">3</td>
<td align="right">163</td>
<td align="right">1.30</td>
<td align="right">0.91</td>
<td align="right">1.87</td>
</tr>
<tr class="even">
<td align="left">Geographic Region</td>
<td align="left">Asia</td>
<td align="right">4</td>
<td align="right">52</td>
<td align="right">1.36</td>
<td align="right">0.74</td>
<td align="right">2.47</td>
</tr>
<tr class="odd">
<td align="left">Race</td>
<td align="left">White</td>
<td align="right">5</td>
<td align="right">566</td>
<td align="right">1.29</td>
<td align="right">1.06</td>
<td align="right">1.57</td>
</tr>
<tr class="even">
<td align="left">Race</td>
<td align="left">Black</td>
<td align="right">6</td>
<td align="right">226</td>
<td align="right">1.25</td>
<td align="right">0.91</td>
<td align="right">1.72</td>
</tr>
<tr class="odd">
<td align="left">Race</td>
<td align="left">Asian</td>
<td align="right">7</td>
<td align="right">135</td>
<td align="right">1.07</td>
<td align="right">0.73</td>
<td align="right">1.58</td>
</tr>
<tr class="even">
<td align="left">Race</td>
<td align="left">Other</td>
<td align="right">8</td>
<td align="right">135</td>
<td align="right">1.68</td>
<td align="right">1.10</td>
<td align="right">2.58</td>
</tr>
<tr class="odd">
<td align="left">Ethnic group</td>
<td align="left">Hispanic or Latino</td>
<td align="right">9</td>
<td align="right">250</td>
<td align="right">1.28</td>
<td align="right">0.94</td>
<td align="right">1.73</td>
</tr>
<tr class="even">
<td align="left">Ethnic group</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">10</td>
<td align="right">755</td>
<td align="right">1.31</td>
<td align="right">1.10</td>
<td align="right">1.55</td>
</tr>
<tr class="odd">
<td align="left">Age</td>
<td align="left">18 to &lt; 40 yr</td>
<td align="right">11</td>
<td align="right">119</td>
<td align="right">1.95</td>
<td align="right">1.28</td>
<td align="right">2.97</td>
</tr>
<tr class="even">
<td align="left">Age</td>
<td align="left">40 to &lt; 65 yr</td>
<td align="right">12</td>
<td align="right">559</td>
<td align="right">1.19</td>
<td align="right">0.98</td>
<td align="right">1.44</td>
</tr>
<tr class="odd">
<td align="left">Age</td>
<td align="left">&gt;= 65 yr</td>
<td align="right">13</td>
<td align="right">384</td>
<td align="right">1.29</td>
<td align="right">1.00</td>
<td align="right">1.67</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td align="left">Male</td>
<td align="right">14</td>
<td align="right">684</td>
<td align="right">1.30</td>
<td align="right">1.09</td>
<td align="right">1.56</td>
</tr>
<tr class="odd">
<td align="left">Sex</td>
<td align="left">Female</td>
<td align="right">15</td>
<td align="right">278</td>
<td align="right">1.31</td>
<td align="right">1.03</td>
<td align="right">1.66</td>
</tr>
<tr class="even">
<td align="left">Symptoms duration</td>
<td align="left">&lt;= 10 days</td>
<td align="right">16</td>
<td align="right">676</td>
<td align="right">1.37</td>
<td align="right">1.14</td>
<td align="right">1.64</td>
</tr>
<tr class="odd">
<td align="left">Symptoms duration</td>
<td align="left">&gt; 10 days</td>
<td align="right">17</td>
<td align="right">383</td>
<td align="right">1.20</td>
<td align="right">0.94</td>
<td align="right">1.52</td>
</tr>
<tr class="even">
<td align="left">Baseline Ordinal Score</td>
<td align="left">4 (not receiving oxygen)</td>
<td align="right">18</td>
<td align="right">138</td>
<td align="right">1.29</td>
<td align="right">0.91</td>
<td align="right">1.83</td>
</tr>
<tr class="odd">
<td align="left">Baseline Ordinal Score</td>
<td align="left">5 (receiving oxygen)</td>
<td align="right">19</td>
<td align="right">435</td>
<td align="right">1.45</td>
<td align="right">1.18</td>
<td align="right">1.79</td>
</tr>
<tr class="even">
<td align="left">Baseline Ordinal Score</td>
<td align="left">6 (receiving high-flow oxygen)</td>
<td align="right">20</td>
<td align="right">193</td>
<td align="right">1.09</td>
<td align="right">0.76</td>
<td align="right">1.57</td>
</tr>
<tr class="odd">
<td align="left">Baseline Ordinal Score</td>
<td align="left">7 (receiving mv or ECMO)</td>
<td align="right">21</td>
<td align="right">285</td>
<td align="right">0.98</td>
<td align="right">0.70</td>
<td align="right">1.36</td>
</tr>
</tbody>
</table>
</div>
<div id="load-the-data-into-the-app" class="section level3">
<h3 class="hasAnchor">
<a href="#load-the-data-into-the-app" class="anchor"></a>Load the Data into the app</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># from R launch the app with the data </span>
<span class="co">#run_ggquickeda(remdesivirdata) </span>
<span class="co"># if you have access the the app on a server browse to the file and load it</span></code></pre></div>
</div>
<div id="xy-mappings-and-splitting-options" class="section level3">
<h3 class="hasAnchor">
<a href="#xy-mappings-and-splitting-options" class="anchor"></a>X/Y Mappings and Splitting Options</h3>
<ul>
<li>After the app finishes loading the data:
<ul>
<li>Change the mapped <strong>y variable(s)</strong> to ‘Subgroupvalue’<br>
</li>
<li>Change the mapped <strong>x variable(s)</strong> to ‘RRLCI’, ‘Recovery Rate Ratio’ and ‘RRUCI’</li>
</ul>
</li>
</ul>
<div class="figure">
<img src="sumdata1.png" style="width:70.0%" alt=""><p class="caption">Summary Data Mapping</p>
</div>
<ul>
<li>Go to <strong>Color/Group/Split/Size/Fill Mappings</strong> below the graph
<ul>
<li>cancel the automatic <strong>Extra Column Split</strong> and set it to ‘None’</li>
<li>set <strong>Select Row Split</strong> to ‘Subgroup’.</li>
</ul>
</li>
</ul>
<div class="figure">
<img src="sumdata2.png" style="width:70.0%" alt=""><p class="caption">Graph Splitting</p>
</div>
</div>
<div id="facets-options" class="section level3">
<h3 class="hasAnchor">
<a href="#facets-options" class="anchor"></a>Facets Options</h3>
<ul>
<li>Go to <strong>Graph Options</strong> tab and select the <strong>Facets Options</strong> subtab. We will be using advanced Faceting (graph splitting options):
<ul>
<li>Set <strong>Facet Scales</strong> to ‘free_y’ (this allows only Subgroupvalue specific to the Subgroup to appear on each graph panel)</li>
<li>Set <strong>Facet Spaces</strong> to ‘free_y’ (this allows for each panel to occupy space proportional to the number of unique Subgroupvalue)</li>
<li>Set <strong>Facet Switch to Near Axis</strong> to ‘y’ (this will move the y strips to the left)</li>
<li>Set <strong>Strip Placement</strong> to ‘outside’ (this will put the y strips to the left of the axis)</li>
</ul>
</li>
</ul>
<p>We still have to set text formatting options using the group of subtabs in the lower part of the page:</p>
<ul>
<li>Default subtab: <strong>Facet Text Size/Angle/Face</strong>
<ul>
<li>Set <strong>Facet Text Angle Y</strong> to 0 (if not automatically set)</li>
<li>Check the <strong>Y strip Text Bold</strong>
</li>
</ul>
</li>
<li>Second subtab: <strong>Facet Text Justification</strong>
<ul>
<li>Set <strong>Facet Text Vertical Justification Y</strong> to 1</li>
<li>Set <strong>Facet Text Horizontal Justification Y</strong> to 0<br>
(not shown in the screenshot)</li>
</ul>
</li>
<li>Fourth subtab: <strong>Facet Labels</strong>
<ul>
<li>Set <strong>Facet Label</strong> to ‘Value(s)’<br>
(not shown in the screenshot)</li>
</ul>
</li>
</ul>
<p>At this point you should have this graph:</p>
<div class="figure">
<img src="sumdata3.png" style="width:100.0%" alt=""><p class="caption">Facet Options</p>
</div>
</div>
<div id="ordering-of-variables-and-values" class="section level3">
<h3 class="hasAnchor">
<a href="#ordering-of-variables-and-values" class="anchor"></a>Ordering of Variables and Values</h3>
<ul>
<li>Go to main <strong>Inputs</strong> tab and select the <strong>Recode/Reorder Categories</strong> subtab.
<ul>
<li>Set <strong>Select a variable(s)</strong> to ‘Subgroup’</li>
<li>Drag and drop the order of levels as in the screenshot</li>
</ul>
</li>
</ul>
<div class="figure">
<img src="sumdata4.png" style="width:50.0%" alt=""><p class="caption">reordering of subgroup</p>
</div>
<p>While you can add another variable and manually drag and drop we will demo next another possibility to reorder yvalues using a statistic (e.g. median) of another variable (Subroupvalueorder):</p>
<ul>
<li>Select the <strong>Reorder Facets or axis Levels</strong> subtab
<ul>
<li>Set <strong>Reorder This Variable</strong> to ‘yvalues’</li>
<li>Keep <strong>By the:</strong> to ‘Median’</li>
<li>Set <strong>Of this Variable:</strong> to ‘Subroupvalueorder’</li>
</ul>
</li>
</ul>
<div class="figure">
<img src="sumdata5.png" style="width:50.0%" alt=""><p class="caption">reordering of Subgroupvalue</p>
</div>
</div>
<div id="remove-default-points-and-add-a-point-interval" class="section level3">
<h3 class="hasAnchor">
<a href="#remove-default-points-and-add-a-point-interval" class="anchor"></a>Remove Default Points and add a Point Interval</h3>
<ul>
<li>Select the <strong>Points, Lines</strong> subtab
<ul>
<li>Set <strong>Points</strong> to ‘None’</li>
</ul>
</li>
<li>Select the <strong>Median (PIs)</strong> subtab
<ul>
<li>Set <strong>Median</strong> to ‘Median/PI’</li>
<li>Set <strong>PI Geom:</strong> to ‘errorbar’</li>
<li>Set <strong>PI %:</strong> to 1 (this ensures that the errorbar goes from the min to max of values)</li>
<li>Uncheck <strong>Show lines</strong> and check <strong>Show points</strong>
</li>
<li>Set <strong>Median(s) Point(s) Size:</strong> to 6</li>
</ul>
</li>
</ul>
<div class="figure">
<img src="sumdata6.png" style="width:75.0%" alt=""><p class="caption">Median/PI options</p>
</div>
</div>
<div id="setting-titles-captions-and-logging-the-x-axis" class="section level3">
<h3 class="hasAnchor">
<a href="#setting-titles-captions-and-logging-the-x-axis" class="anchor"></a>Setting Titles, Captions and Logging the X axis</h3>
<ul>
<li>Select the <strong>Graph Options</strong> subtab next to the <strong>Inputs</strong> and in the first default subtab <strong>X/Y Axes Log/Labels</strong>:
<ul>
<li>Type in one space in the <strong>Y axis label</strong> (this removes the default label)</li>
<li>Type in one space in the <strong>X axis label</strong> (this removes the default label)</li>
<li>Type in “Time to Recovery According to Subgroup” in the <strong>Plot Title</strong> field</li>
<li>Type in “The widths of the confidence intervals have not been adjusted for multiplicity\nand therefore cannot be used to infer treatment effects.\nRace and ethnic group were reported by the patients.” in the <strong>Plot Caption</strong> field (notice how the\n produce a line break)</li>
<li>Set <strong>X Axis scale</strong> to ‘log10’</li>
</ul>
</li>
</ul>
<p>And now you should get the below plot !: <img src="sumdata7.png" style="width:100.0%" alt="xy label options"></p>
</div>
<div id="example-of-what-is-possible-with-ggquickeda" class="section level3">
<h3 class="hasAnchor">
<a href="#example-of-what-is-possible-with-ggquickeda" class="anchor"></a>Example of what is Possible with <code>ggquickeda</code>
</h3>
<p>As an example of even more advanced features consider the screenshot below where the Intervals Values are shown while the point Size is proportional to the N of patients. Some theme adjustments to customize the plot and legend were also done.</p>
<div class="figure">
<img src="sumdata8.png" style="width:100.0%" alt=""><p class="caption">more options</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Samer Mouksassi, Dean Attali, Benjamin Rich, Michael Sachs.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
